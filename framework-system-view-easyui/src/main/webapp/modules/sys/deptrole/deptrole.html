<div class="easyui-layout" id="roleinfo_layout" data-options="fit:true">
	<div data-options="region:'center'">
<div class="easyui-panel search-body" cls="search" style="width: 100%;">
	<form id="deptroleform">
		<div class="search-item">
			<label id="b@encoding">编码</label>
			<input type="text" class="easyui-textbox" name="s_roleCode" />
		</div>
		
		<div class="search-item">
			<label id="b@name">名称</label>
			<input type="text" class="easyui-textbox" name="s_roleName" />
		</div>
		
		<div class="search-item">
			<label id="b@state">状态</label>
			<input type="radio" name="s_isValid" value=""  /> <p id="b@all">全部</p>
			<input type="radio" name="s_isValid" value="T" checked="checked" /> <p id="b@inUse">在用</p>
			<input type="radio" name="s_isValid" value="F" /> <p id="b@forbidden">禁用</p>
		</div>
		
		<div class="search-item">
			<label id="b@createTime">创建时间</label>
			<input type="text" class="easyui-datebox" name="s_createDateBeg" id="s_createDateBeg" validType="nowtime"/> 
			<span id="b@to">到</span>
			<input type="text" class="easyui-datebox" name="s_createDateEnd" validType="compare['#deptroleform #s_createDateBeg']"/>
		</div>
		
		<a class="easyui-linkbutton btn-search" iconCls="icon-search"><p  id="b@btn.search">搜索</p></a>
	</form>
</div>

<table idField="roleCode"
	sortName="createDate" sortOrder="desc"
	search=".search"
	toolbar=".temp-toolbar"
	layoutH=".search"	
	>
	<thead>
		<tr>
			<th id="b1@encoding" data-options="field:'roleCode'" width="100" sortable="true">编码</th>
			<th id="b1@name" data-options="field:'roleName'" width="125" sortable="true">名称</th>
			<th id="b1@name" data-options="field:'isValid' ,
			formatter:function(value, rowData, rowIndex){
						  	if(value=='T') return '在用';
						  	else if(value=='F') return '禁用';
						  }" width="125" sortable="true" >状态</th>
			<th id="b@createTime" data-options="field:'createDate'" width="125" sortable="true">创建时间</th>
			<th id="b@describe" data-options="field:'roleDesc'" width="355">描述</th>
		</tr>
	</thead>
</table>

<div class="temp-toolbar">
	<a iconCls="icon-add" href="modules/sys/deptrole/deptrole-info.html" trigger="none"
		target="dialog" rel="deptrole_add" title="新增角色" width="320" height="420" btnValue="添加"><p  id="b@link.add">新增</p></a>
		
	<a iconCls="icon-edit" href="modules/sys/deptrole/deptrole-info.html" trigger="single"
		target="dialog" rel="deptrole_edit" title="编辑 {{roleName}} 角色" width="320" height="420" btnValue="更新"><p  id="b@link.edit">编辑</p></a>
		
	<hr>
	
	<a iconCls="icon-base icon-base-gear" href="modules/sys/deptrole/deptrole-power.html" trigger="single"
		target="dialog" rel="deptrole_operate" title="编辑 {{roleName}} 操作权限" width="320" height="600" btnValue="更新"><p  id="b@link.authorityManage">操作权限</p></a>
				<hr>
	<a iconCls="icon-base icon-base-gear" trigger="single"
		target="confirm" rel="deptrole_remove"  title="确定删除 {{roleName}}角色吗？">
		<p  id="d@link.authorityOpt">删除</p></a>
</div>
</div>
<div data-options="region:'east', split:true" style="width:50%">
		<div class="easyui-layout" data-options="fit:true" id="deptroleinfo_sub_layout">
			<div data-options="region:'east', split:true, collapsible: false, minWidth: 320" title="角色用户">
			</div>
		</div>
	</div>
</div>
<script>
	$.parser.onComplete = function(panel) {
		$.parser.onComplete = $.noop;
		
		requirejs([
		           'modules/sys/deptrole/ctrl/deptrole'
		          ], function(DeptRole) {
			new DeptRole('deptrole', panel).load(panel);
		});
	};
	
	setI18NText();
</script>